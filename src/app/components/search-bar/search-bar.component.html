<nav class="flex flex-wrap items-center py-8 justify-center w-full">

    <div class="flex items-center gap-4" [routerLink]="['/']">
        <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
                d="M13 26C5.8203 26 5.97646e-06 20.1797 6.29029e-06 13C6.60413e-06 5.8203 5.82031 2.54414e-07 13 5.68248e-07C20.1797 8.82083e-07 26 5.8203 26 13C26 20.1797 20.1797 26 13 26ZM7.00001 21C7.00001 22.3807 8.1193 23.5 9.50001 23.5C10.8807 23.5 12 22.3807 12 21C12 19.6193 10.8807 18.5 9.50001 18.5C8.1193 18.5 7.00001 19.6193 7.00001 21ZM9.50001 7.5C8.11929 7.5 7.00001 6.38071 7.00001 5C7.00001 3.61929 8.1193 2.5 9.50001 2.5C10.8807 2.5 12 3.61929 12 5C12 6.38071 10.8807 7.5 9.50001 7.5ZM4.50001 10C5.88072 10 7.00001 11.1193 7.00001 12.5C7.00001 13.8807 5.88072 15 4.50001 15C3.11929 15 2.00001 13.8807 2.00001 12.5C2.00001 11.1193 3.11929 10 4.50001 10ZM18.1355 23.1817C16.9829 23.7219 15.7476 24 14.5 24L14.5 13.25L14.5 2.5C15.7476 2.5 16.9829 2.77806 18.1355 3.3183C19.2881 3.85853 20.3354 4.65037 21.2175 5.6486C22.0997 6.64683 22.7994 7.8319 23.2769 9.13615C23.7543 10.4404 24 11.8383 24 13.25C24 14.6617 23.7543 16.0596 23.2769 17.3638C22.7994 18.6681 22.0997 19.8532 21.2175 20.8514C20.3354 21.8496 19.2881 22.6415 18.1355 23.1817Z"
                fill="url(#paint0_linear_34_4584)" />
            <defs>
                <linearGradient id="paint0_linear_34_4584" x1="26" y1="1.1365e-06" x2="1.27789" y2="29.1626"
                    gradientUnits="userSpaceOnUse">
                    <stop stop-color="#FFEE58" />
                    <stop offset="1" stop-color="#FF8F00" />
                </linearGradient>
            </defs>
        </svg>
        <span class="font-bold text-lg">FindMovies</span>
    </div>

    <div class="flex-grow mx-20 relative">
        <div class="relative flex items-center
           rounded-xl bg-white
           px-8
           border-none
           focus-within:border-yellow-500
           focus-within:ring-2 focus-within:ring-yellow-600">

            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_21_811)">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M8.74997 1.66666C7.62046 1.66675 6.50735 1.93696 5.50351 2.45473C4.49967 2.97251 3.63421 3.72284 2.97933 4.64312C2.32445 5.5634 1.89914 6.62695 1.73889 7.74503C1.57864 8.86311 1.68809 10.0033 2.05812 11.0705C2.42814 12.1377 3.04801 13.1009 3.866 13.8798C4.68399 14.6587 5.67639 15.2306 6.7604 15.548C7.8444 15.8653 8.98859 15.9189 10.0975 15.7041C11.2064 15.4893 12.2478 15.0125 13.135 14.3133L16.1783 17.3567C16.3355 17.5085 16.546 17.5925 16.7645 17.5906C16.983 17.5887 17.192 17.501 17.3465 17.3465C17.501 17.192 17.5886 16.983 17.5905 16.7645C17.5924 16.546 17.5084 16.3355 17.3566 16.1783L14.3133 13.135C15.1366 12.0905 15.6493 10.8353 15.7926 9.51309C15.9358 8.19087 15.704 6.85501 15.1235 5.6584C14.543 4.4618 13.6374 3.45279 12.5102 2.74685C11.3831 2.04091 10.0799 1.66657 8.74997 1.66666ZM3.3333 8.74999C3.3333 7.3134 3.90398 5.93565 4.91981 4.91983C5.93563 3.90401 7.31338 3.33332 8.74997 3.33332C10.1866 3.33332 11.5643 3.90401 12.5801 4.91983C13.596 5.93565 14.1666 7.3134 14.1666 8.74999C14.1666 10.1866 13.596 11.5643 12.5801 12.5802C11.5643 13.596 10.1866 14.1667 8.74997 14.1667C7.31338 14.1667 5.93563 13.596 4.91981 12.5802C3.90398 11.5643 3.3333 10.1866 3.3333 8.74999Z"
                        fill="black" fill-opacity="0.6" />
                </g>
                <defs>
                    <clipPath id="clip0_21_811">
                        <rect width="20" height="20" fill="white" />
                    </clipPath>
                </defs>
            </svg>

            <input type="text" [formControl]="searchQuery" placeholder="Search FindMovies" class="w-full bg-transparent
             px-3 py-3
             text-black placeholder-gray-400
             outline-none" />
        </div>

        @if(searchQuery.value) {
        <div class="absolute top-16 left-0 right-0 rounded-md bg-gray-800 z-10">
            @for(film of films$ | async; track $index) {
            @if(film.id){
            <div class="p-2 flex items-center gap-4 hover:bg-gray-500" (click)="searchQuery.setValue('')"
                [routerLink]="['/film/movie', film.id]">
                <img class="w-16 h-20" src="https://image.tmdb.org/t/p/w200/{{ film.poster_path }}"
                    alt="{{ film.title }}">
                <div class=" flex text-white flex-col w-5/6 justify-evenly ">
                    <span class="font-bold">{{film.title}}</span>
                    <span>{{film.release_date | date: 'yyyy'}}</span>
                    <span
                        class="line-clamp-1 text-sm text-nowrap overflow-hidden text-ellipsis w-full">{{film.overview}}</span>
                </div>
            </div>
            }@else{
            <div class=" py-24 h-100 flex justify-center items-center gap-4 hover:bg-gray-500">
                <span class="text-4xl">No se encontraron resultados, intenta con otra busqueda</span>
            </div>

            }
            }

        </div>
        }
    </div>
</nav>